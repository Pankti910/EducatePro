
<main-headerbar></main-headerbar>
<mat-divider></mat-divider>


<div style="display: flex;width:100%">

    <div style="width:15%;margin-top:50px;">
      <h4><b><mat-toolbar-row> Enrolled In</mat-toolbar-row> </b></h4> 
       <span *ngFor='let data of classList.joinedClasses'>
         <mat-toolbar-row class="mat-toolbar-row-link">
        <a  [routerLink]="['/people',data._id]">{{data.classname}}
               
    
        </a>
      </mat-toolbar-row>
       </span>
    </div>
    <div style="width:85%;float: right;">
    <div style="float:right;width: 100%;">  
  

    

    
            


                    <main>

    
                        <mat-tab-group mat-align-tabs="center" style="margin-bottom:2vh;" [selectedIndex]="0" (selectedTabChange)="tabClick($event)">
                            
                            <mat-tab label="Post">
                              <mat-toolbar class="center" style="height:100px;background-color: blue;color: white;font-weight: bold;font-size:25px;">
                                {{classData.classname}}
                            </mat-toolbar>
                    
                            <div >           
                                 <div  *ngIf="classData.status!=='Block'" style="float: right;width:80%;margin-top:20px">
                                <mat-card style="width:100%;">
                    
                                    
                               
                                    <h6>New Post</h6>
                                    <mat-form-field  [floatLabel]="'never'">
                                        <textarea style="resize: none;" placeholder="Content to post" matInput rows="3"
                                        [(ngModel)]="Content" name="Content" required></textarea>
                                        
                                        
                                    </mat-form-field>
                                
                                   
                                   
                                    <br>
                                <div class="progress form-group" *ngIf="progress >0">
                                    
                                    <div class="progress-bar progress-bar-striped bg-success" role="progressbar" [style.width.%]="progress">
                                    </div>
                                </div>
                                <br>
                                <button mat-button color="primary" type="button" (click)="filepicker.click()">Pick Document for Post</button>
                                <input multiple type="file" #filepicker (change)="onFilepicker($event)">
                       
                              <button class="btn btn-success"  (click)="uploadAssignment()">
                              
                                Post </button>
                               </mat-card>
                            </div>
                            </div>
                                
                           
                            <div *ngIf="message.message=='Teacher'" [ngStyle]="{'visiblity':message.message==='Teacher'?'visible':'collapse'}" class="header" style="margin-top: 20px!important;float: left;width:20%;">
                                <div style="width: fit-content;float: left;">
                                   <mat-card style="width: fit-content;float: left;">
                                    Class Code:{{classData.classcode}}
                                 
                                  <a  [cdkCopyToClipboard]="value"><mat-icon>content_copy</mat-icon>
                                  </a>
                                   </mat-card>
                                   
                               </div> 
                            </div>
                            
                            <div  style="margin-top:auto;margin-top:auto;">
                                <div style="float: left;">
                                    
                                    <mat-card style="width: fit-content;float: left;margin-top: 30px;">
                    
                                   <a  href={{meetLink}} target="_blank" rel="noopener noreferrer">Join Meeting
                                   </a>
                                </mat-card>
                    
                                </div>
                            </div>
                    
                            <div style="float: right;width:80%;margin-top:20px" >
                              
                                     <mat-card style="margin-top:20px;margin-bottom:20px;border: 1px;padding-bottom: 60px;" *ngFor="let i of post;let k=index" >
                                      <p style="font-size:100%;"> {{i.Content}}</p>
                                      
                                      <mat-card-actions>
                                         
                                         <a   mat-button color="basic" style="float:right" (click)="deletepost(i._id)">
                                         <mat-icon>delete</mat-icon>
                                         </a>
                                        
                                                        
                                          <a *ngIf="i.Document!=null" mat-button color="basic" style="float:right;" (click)="downloadAssignment(i._id)" class="btn"  (click)="uploadAssignment()">
                                              <mat-icon >download</mat-icon> 
                                             
                                          </a>  
                                       
                                      </mat-card-actions>
                          
                                   </mat-card>
                            </div>
                            </mat-tab> 
                            <mat-tab label="Assignment">
                               
                               
                                
                            </mat-tab>
                            <mat-tab label="Exam">
                                
                                
                                <br>
                                
                            </mat-tab>
                            <mat-tab label="People">
                    
                          </mat-tab>
                          
                        </mat-tab-group>
                            
                    
                            
                         
                    </main>
                
                
        
                
             
      
      
        

        
     


</div>
</div>
</div>